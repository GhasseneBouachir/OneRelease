<%@ page import="java.text.NumberFormat" %>
<%@ page import="java.text.DecimalFormat" %>
<%@ page import="java.text.DecimalFormatSymbols" %>
<%@ page import="org.openxava.model.meta.MetaProperty" %>
<%@ page import="org.openxava.util.Strings" %>
<%@ page import="org.openxava.util.Align" %>
<%@ page import="org.openxava.util.Locales" %>
<%@ page import="org.openxava.util.XavaResources" %>
<%@ page import="org.apache.commons.logging.LogFactory" %>
<%@ page import="org.apache.commons.logging.Log" %>

<jsp:useBean id="style" class="org.openxava.web.style.Style" scope="request"/>
<% 
String propertyKey = request.getParameter("propertyKey"); 
String fvalue = (String) request.getAttribute(propertyKey + ".fvalue"); 
String init = "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSIxMjFweCIgaGVpZ2h0PSI2MXB4IiB2aWV3Qm94PSItMC41IC0wLjUgMTIxIDYxIiBjb250ZW50PSImbHQ7bXhmaWxlIGhvc3Q9JnF1b3Q7d3d3LmRyYXcuaW8mcXVvdDsgbW9kaWZpZWQ9JnF1b3Q7MjAyMC0wMS0yN1QxNTozMjo0MC4xNzhaJnF1b3Q7IGFnZW50PSZxdW90O01vemlsbGEvNS4wIChNYWNpbnRvc2g7IEludGVsIE1hYyBPUyBYIDEwXzE0XzYpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS83OS4wLjM5NDUuMTMwIFNhZmFyaS81MzcuMzYmcXVvdDsgZXRhZz0mcXVvdDtFWFBicVd5dUhldVQyY185OGQ2VSZxdW90OyB2ZXJzaW9uPSZxdW90OzEyLjUuOCZxdW90OyZndDsmbHQ7ZGlhZ3JhbSBpZD0mcXVvdDtlbVlSU0REUmtEUDJZZDNFWnkzciZxdW90OyBuYW1lPSZxdW90O1BhZ2UtMSZxdW90OyZndDtqWlBOYnFNd0VJQ2ZobU1SMkFseGp0MDA2VjU2YVZicWVUQURSbXR3Wkp3QSsvUnJyKzBTTnFwVUNZSG5tMS9QREFrOWROT3Job3Q0VXhYS2hHVFZsTkNYaEpDOFlOUitISms5MlJQbVFhUGJ5cU5zQWVmMkR3YlBTSzl0aFVOZ0hobWxwR2t2YThoVjN5TTNLd1phcTNGdFZpdTV6bnFCQmxjV0RwdzV5RWY2MFZaR2VNcElzZkNmMkRZaVpzNkx2ZGVVd0g4M1dsMzdrSzlYUFhwTkJ6Rk1xR0VRVUtseGhYQXlKOVdiVVB3SFNLTWExK0JrZXhUR3VMcy9KK1JrbjlwYXliYlVvT2RVNmNZU0dBYTBqbDdsdnVQaVRVNkV3aVlyOW94WGVWbXlUYjJuV2JtRGpMRU56K2tHQ2hlZ0pFVUcyNkltSmR1U2NzZHFsaU53U25lWUFhbTVOVmtLZXNmbUtrR255dFRKN3ZBRyttWVg0UDhpeDNGTU9RelFZd1VwRjNlMWVZZW5HTVhZS1BiKzlKalFnMWJLK0ZNM0hWQzZ0VnB2ek9rTGJSalpZT1k0eERncmpiMzVWb1E0eEJ2SWE0anhTN1NETTNFdmNGdUlnMGtmTW8yaU5YaStBSGZ5YUJ1VTBCL0NkTkpLdVQwK0ZoS0t2YUUyT04yaFVOZ3JxZzZObnExSjBNWU5tZGZpdUN4bkhwbTRXOHdpTUFncjFYd0dYdnBnRDZFVlVWeG04RTkzOTQvVDQxOD0mbHQ7L2RpYWdyYW0mZ3Q7Jmx0Oy9teGZpbGUmZ3Q7Ij48ZGVmcz48L2RlZnM+PGc+PHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEyMCIgaGVpZ2h0PSI2MCIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSIjMDAwMDAwIiBwb2ludGVyLWV2ZW50cz0iYWxsIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTAuNSAtMC41KSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6IHZpc2libGU7IHRleHQtYWxpZ246IGxlZnQ7IiBwb2ludGVyLWV2ZW50cz0ibm9uZSIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IHVuc2FmZSBjZW50ZXI7IGp1c3RpZnktY29udGVudDogdW5zYWZlIGNlbnRlcjsgd2lkdGg6IDExOHB4OyBoZWlnaHQ6IDFweDsgcGFkZGluZy10b3A6IDMwcHg7IG1hcmdpbi1sZWZ0OiAycHg7Ij48ZGl2IHN0eWxlPSJib3gtc2l6aW5nOiBib3JkZXItYm94OyBmb250LXNpemU6IDA7IHRleHQtYWxpZ246IGNlbnRlcjsgIj48ZGl2IHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6ICMwMDAwMDA7IGxpbmUtaGVpZ2h0OiAxLjI7IHBvaW50ZXItZXZlbnRzOiBhbGw7IHdoaXRlLXNwYWNlOiBub3JtYWw7IHdvcmQtd3JhcDogbm9ybWFsOyAiPlRoaXMgaXMgYSB0ZXN0LjwvZGl2PjwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI2MCIgeT0iMzQiIGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiIGZvbnQtc2l6ZT0iMTJweCIgdGV4dC1hbmNob3I9Im1pZGRsZSI+VGhpcyBpcyBhIHRlc3QuPC90ZXh0Pjwvc3dpdGNoPjwvZz48L2c+PC9zdmc+";
%>


<input type="hidden" id="<%=propertyKey%>"  name="<%=propertyKey%>" value="<%=fvalue%>">  

<img style="cursor: pointer;" title="Click to edit image" onclick="DiagramEditor.editElement(this,'<%=propertyKey%>');"
	
	src="<%= fvalue.equals("") ? init : fvalue %>" >